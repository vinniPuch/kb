<html>
<head>
   <meta charset="utf-8">

   <title></title>
   <link rel="stylesheet" type="text/css" href="../../css/style.css">
   <script type="text/javascript">
var type = 'table';
   </script>
   <link rel="stylesheet" href="/css/style-frame.css" type="text/css">
   <link rel="stylesheet" href="/css/correction.css" type="text/css">
</head>

<body>
   <div id="wrapper">
      <div class="page-title">
         <div id="title">
            <a class="logo" href="/"><span>­</span></a>

            <div class="category">
               <a class="category-link" href="/category/git/git.html">GIT</a>
            </div>
         </div>
      </div>

      <div id="content-wrapper" class="table-tpl3">
         <div id="header-indent"></div>

         <div class="indent"></div>

         <div id="sub-title-bar">
            <h4 class="editable" id="sub-category-sub-title">Отмена изменений</h4>
         </div>

         <table id="table-3column-2bold">
            <tbody>
               <tr>
                  <td class="firs"><br>
                  Изменение последнего коммита<br>
                  <br></td>

                  <td class="middle"></td>

                  <td class="last"></td>
               </tr>

               <tr class="">
                  <td class="firs">Одна из типичных отмен происходит тогда, когда вы делаете коммит слишком рано, забыв добавить какие-то файлы, или напутали с комментарием к коммиту. Если вам хотелось бы сделать этот коммит ещё раз, вы можете выполнить commit с опцией --amend</td>

                  <td class="middle"><br>
                  git commit --amend</td>

                  <td class="last"></td>
               </tr>

               <tr class="">
                  <td class="firs">Для примера, если после совершения коммита вы осознали, что забыли проиндексировать изменения в файле, которые хотели добавить в этот коммит, вы можете сделать что-то подобное</td>

                  <td class="middle">
                     <div>
                        &nbsp;git commit -m 'initial commit'
                     </div>

                     <div>
                        &nbsp;git add forgotten_file
                     </div>

                     <div>
                        &nbsp;git commit --amend
                     </div>
                  </td>

                  <td class="last">Все три команды вместе дают один коммит — второй коммит заменяет результат первого.</td>
               </tr>

               <tr class="">
                  <td class="firs"><br>
                  Отмена индексации файла<br>
                  <br></td>

                  <td class="middle"></td>

                  <td class="last"></td>
               </tr>

               <tr class="">
                  <td class="firs"></td>

                  <td class="middle">git reset HEAD &lt;файл&gt;</td>

                  <td class="last"></td>
               </tr>

               <tr class="">
                  <td class="firs">Отмена изменений файла</td>

                  <td class="middle"></td>

                  <td class="last"></td>
               </tr>

               <tr class="">
                  <td class="firs"></td>

                  <td class="middle">git checkout -- &lt;file&gt;<br>
                  <br>
                  git checkout -- benchmarks.rb<br>
                  <br>
                  <br>
                  Всё, что никогда не попадало в коммит, вы скорее всего уже не увидите снова.</td>

                  <td class="last">Как вы видите, изменения были отменены. Вы должны понимать, что это опасная команда: все сделанные вами изменения в этом файле пропали — вы просто скопировали поверх него другой файл. Никогда не используйте эту команду, если вы не полностью уверены, что этот файл вам не нужен. Если вам нужно просто сделать, чтобы он не мешался, мы рассмотрим прятание (stash) и ветвление</td>
               </tr>
            </tbody>
         </table>

         <div id="fake-footer"></div>
      </div>

      <div class="page-footer">
         <div id="footer">
            <a class="logo" href="/"><span>­</span></a>

            <div class="category">
               <a class="category-link" href="/category/git/git.html">GIT</a>
            </div>
         </div>
      </div>

      <div class="footer-indent"></div>
   </div>
</body>
</html>
